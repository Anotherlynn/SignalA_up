# RULE1
<code> for df.Title.str.contains("临时股东大会"):<br/>&emsp; first delete df.infoTitle.str.contains("H股") and df.Detail.str.contains("关于召开|提示性公告|法律意见书|议事规则|会议材料|会议资料")
<br/>&emsp; then keep df.str.contains("决议公告")
</code>

- 所有的临时股东大会中，"关于召开","临时性公告"及"通知"只作为会议的召开通知书，不包含任何信息;
- "法律意见书"是公司邀请律所作为监管方参会，只包含选举出的新非独立董事名称及同意股份数目;
- "议事规则"只包含出席需要出席方提供的材料和必要流程，没有信息;
- "会议材料","会议资料"包含以上全部信息内容，过于冗杂，删除;
- <font color=#ff0000>"决议公告"</font>,只包含股东大会zhe的结果，包括通过的意见书（董事津贴方案，未来股东回报规划，发行股票方案修订，公司住所变更及投资方案类），做保留。

Applied RULE1：df.shape(258539,16)->(253001,16)


# RULE2
<code> for df.Title.str.contains("交易信息|公开信息"):<br/>&emsp; delete
</code>
Applied RULE2：df.shape(253001,16)->(249286,16)


# RULE3
<code> for df.infoTitle.str.contains("财务决算|年度审计报告|财务报告"):<br/>&emsp; delete
</code>
Applied RULE3：df.shape(249286,16)->(239248,16)

# RULE4
<code> for df.infoTitle.str.contains("董事会工作报告"):<br/>&emsp; delete
</code>
Applied RULE3：df.shape(239248,16)->(237211,16)

# RULE5
? 述职报告

# 模型结果
## LDA0713
    Topic #0: 资金 募集 募集 资金 项目 情况 计划 股票 使用 激励 发行人
    Topic #1: 股东 本次 交易 董事会 情况 议案 股东大会 董事 会议 独立
    Topic #2: 投资 发行 管理 项目 本次 基金 证券 募集 有效 万元
    Topic #3: 控制 营业部 内部 证券 路证券营业部 内部 控制 证券 营业部 金额 缺陷 专用
    Topic #4: 资产 价值 金额 确认 本公司 投资 负债 项目 收益 财务报表

## LDA0713_临时股东大会_Title
    Topic #0: 简易程序 特定 法律 意见书 特定 董事会 办理 对象 发行股票 提请 授权 提请 授权 董事会  授权
    Topic #1: 事务所 律师 法律 意见书 见证 决议 会议 资料 通知 更正
    Topic #2: 法律 集团股份 意见书 律师事务所 取消 部分 事务所 集团股份 法律 议案 会议 资料
    Topic #3: 会议材料 董事会 全权 办理 法律意见书 见证 通知 更正 授权 
    Topic #4: 会议材料 发行上市 法律意见书 本次发行 本次发行上市 会议决议 会议资料 通知 更正 上市决议 法律意见
    Topic #5: 律师事务所 法律意见书 集团股份 集团股份 会议资料 法律意见
    Topic #6: 法律意见书 集团股份 法律意见书 新材料股份有限公司 法律 集团股份
    Topic #7: 大会决议 有效期 法律意见书 提案 补充 通知 增加提案 特定对象
    Topic #8: 类别 会议 股东会 会议材料 h股 法律意见书 会议资料 a股 法律意见
    Topic #9: 律师事务所 会议材料 出版 传媒股份有限公司 法律 意见书 律师事务所 会议资料


## Multioutput(RF(max_depth=50,sample_leaf=30))
        ---------------------分红--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.96      1.00      0.98       949
                   1       1.00      0.07      0.13        42
            accuracy                           0.96       991
           macro avg       0.98      0.54      0.56       991
        weighted avg       0.96      0.96      0.94       991
        ---------------------股东大会决议--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.82      0.95      0.88       672
                   1       0.86      0.57      0.69       319
            accuracy                           0.83       991
           macro avg       0.84      0.76      0.79       991
        weighted avg       0.83      0.83      0.82       991
        ---------------------业绩预告--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.89      1.00      0.94       883
                   1       1.00      0.02      0.04       108
            accuracy                           0.89       991
           macro avg       0.95      0.51      0.49       991
        weighted avg       0.90      0.89      0.84       991
        ---------------------持股变动--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.83      1.00      0.90       786
                   1       0.95      0.19      0.32       205
            accuracy                           0.83       991
           macro avg       0.89      0.59      0.61       991
        weighted avg       0.85      0.83      0.78       991
        ---------------------资产重组--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.82      1.00      0.90       790
                   1       0.91      0.15      0.26       201
            accuracy                           0.83       991
           macro avg       0.87      0.58      0.58       991
        weighted avg       0.84      0.83      0.77       991
        ---------------------再融资--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.94      1.00      0.97       927
                   1       0.00      0.00      0.00        64
            accuracy                           0.94       991
           macro avg       0.47      0.50      0.48       991
        weighted avg       0.88      0.94      0.90       991
        ---------------------股权激励--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.93      1.00      0.96       903
                   1       1.00      0.19      0.32        88
            accuracy                           0.93       991
           macro avg       0.96      0.60      0.64       991
        weighted avg       0.93      0.93      0.91       991
        ---------------------关联交易---------------------------------------------
                      precision    recall  f1-score   support
                   0       0.82      1.00      0.90       812
                   1       1.00      0.03      0.06       179
            accuracy                           0.83       991
           macro avg       0.91      0.52      0.48       991
        weighted avg       0.86      0.83      0.75       991
        ---------------------交易所交易公开信息--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.95      1.00      0.98       946
                   1       0.00      0.00      0.00        45
            accuracy                           0.95       991
           macro avg       0.48      0.50      0.49       991
        weighted avg       0.91      0.95      0.93       991
        ---------------------现金管理---------------------------------------------
                      precision    recall  f1-score   support
                   0       0.91      1.00      0.95       894
                   1       0.92      0.11      0.20        97
            accuracy                           0.91       991
           macro avg       0.91      0.56      0.58       991
        weighted avg       0.91      0.91      0.88       991
        ---------------------会计政策变更--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.90      1.00      0.95       893
                   1       1.00      0.02      0.04        98
            accuracy                           0.90       991
           macro avg       0.95      0.51      0.49       991
        weighted avg       0.91      0.90      0.86       991
        ---------------------人员聘请--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.92      0.99      0.95       862
                   1       0.89      0.39      0.54       129
            accuracy                           0.91       991
           macro avg       0.90      0.69      0.75       991
        weighted avg       0.91      0.91      0.90       991
        ---------------------审计保留意见--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.88      1.00      0.93       859
                   1       0.79      0.11      0.20       132
            accuracy                           0.88       991
           macro avg       0.83      0.55      0.57       991
        weighted avg       0.87      0.88      0.84       991
        ---------------------内部控制--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.82      0.95      0.88       776
                   1       0.61      0.26      0.36       215
            accuracy                           0.80       991
           macro avg       0.72      0.61      0.62       991
        weighted avg       0.78      0.80      0.77       991
        ---------------------诉讼案件--------------------------------------------- 
                      precision    recall  f1-score   support
                   0       0.99      1.00      0.99       978
                   1       0.00      0.00      0.00        13
            accuracy                           0.99       991
           macro avg       0.49      0.50      0.50       991
        weighted avg       0.97      0.99      0.98       991
        ---------------------无法分类---------------------------------------------
                      precision    recall  f1-score   support
                   0       0.91      1.00      0.95       886
                   1       0.76      0.12      0.21       105
            accuracy                           0.90       991
           macro avg       0.84      0.56      0.58       991
        weighted avg       0.89      0.90      0.87       991



## Multioutput(XGB(max_depth=50,sample_leaf=30))

                   precision    recall  f1-score   support
          分红       1.00      0.74      0.85        42
    股东大会决议       0.77      0.71      0.74       319
        业绩预告       0.87      0.43      0.57       108
        持股变动       0.76      0.39      0.52       205
        资产重组       0.77      0.49      0.60       201
         再融资       0.65      0.23      0.34        64
        股权激励       0.93      0.47      0.62        88
        关联交易       0.85      0.39      0.54       179
        现金管理       0.93      0.41      0.57        97
    会计政策变更       0.74      0.29      0.41        98
        人员聘请       0.85      0.67      0.75       129
    审计保留意见       0.76      0.36      0.48       132
        内部控制       0.73      0.43      0.54       215
        诉讼案件       1.00      0.31      0.47        13
        无法分类       0.82      0.26      0.39       105
       micro avg       0.80      0.47      0.59      1995
       macro avg       0.83      0.44      0.56      1995
    weighted avg       0.80      0.47      0.58      1995
     samples avg       0.64      0.49      0.53      1995
    The F1 Micro Score is: 0.59
    The F1 Macro Score (Unweighted average) is: 0.56

(发现除了1召开通知/提示性公告类，2法律意见书类，3会议材料类，4决议公告类，5 议事规则类， 还有7上市类，8特殊/特定对象类，9提案增加类)


## GridSearch-Multioutput(XGB(learning_rate=0.1,max_depth=3,min_child_weight:=6,min_samples_leaf=30,reg_alpha=0.1))

        Best score on validation set:0.552
        Best beta on validation set:1.0
        Best parameters set:
                learning_rate: 0.1
                max_depth: 3
                min_child_weight: 6
                min_samples_leaf: 30
                reg_alpha: 0.1
         Model saved
        ---------------------分红---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.99      1.00      0.99       949
                   1       0.97      0.69      0.81        42
        
            accuracy                           0.99       991
           macro avg       0.98      0.84      0.90       991
        weighted avg       0.99      0.99      0.98       991
        
        ---------------------股东大会决议---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.86      0.90      0.88       672
                   1       0.78      0.70      0.74       319
        
            accuracy                           0.84       991
           macro avg       0.82      0.80      0.81       991
        weighted avg       0.84      0.84      0.84       991
        
        ---------------------业绩预告---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.93      0.99      0.96       883
                   1       0.85      0.44      0.58       108
        
            accuracy                           0.93       991
           macro avg       0.89      0.71      0.77       991
        weighted avg       0.93      0.93      0.92       991
        
        ---------------------持股变动---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.86      0.97      0.91       786
                   1       0.76      0.39      0.52       205
        
            accuracy                           0.85       991
           macro avg       0.81      0.68      0.71       991
        weighted avg       0.84      0.85      0.83       991
        
        ---------------------资产重组---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.87      0.97      0.92       790
                   1       0.78      0.42      0.54       201
        
            accuracy                           0.86       991
           macro avg       0.82      0.69      0.73       991
        weighted avg       0.85      0.86      0.84       991
        
        ---------------------再融资---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.95      0.99      0.97       927
                   1       0.73      0.25      0.37        64
        
            accuracy                           0.95       991
           macro avg       0.84      0.62      0.67       991
        weighted avg       0.94      0.95      0.93       991
        
        ---------------------股权激励---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.96      1.00      0.98       903
                   1       0.94      0.52      0.67        88
        
            accuracy                           0.95       991
           macro avg       0.95      0.76      0.82       991
        weighted avg       0.95      0.95      0.95       991
        
        ---------------------关联交易---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.87      0.99      0.93       812
                   1       0.85      0.36      0.50       179
        
            accuracy                           0.87       991
           macro avg       0.86      0.67      0.72       991
        weighted avg       0.87      0.87      0.85       991
        
        ---------------------现金管理---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.93      1.00      0.96       894
                   1       0.92      0.36      0.52        97
        
            accuracy                           0.93       991
           macro avg       0.93      0.68      0.74       991
        weighted avg       0.93      0.93      0.92       991
        
        ---------------------会计政策变更---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.92      0.99      0.96       893
                   1       0.74      0.23      0.36        98
        
            accuracy                           0.92       991
           macro avg       0.83      0.61      0.66       991
        weighted avg       0.90      0.92      0.90       991
        
        ---------------------人员聘请---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.95      0.98      0.97       862
                   1       0.83      0.67      0.74       129
        
            accuracy                           0.94       991
           macro avg       0.89      0.82      0.85       991
        weighted avg       0.94      0.94      0.94       991
        
        ---------------------审计保留意见---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.91      0.97      0.94       859
                   1       0.68      0.38      0.49       132
        
            accuracy                           0.89       991
           macro avg       0.79      0.68      0.71       991
        weighted avg       0.88      0.89      0.88       991
        
        ---------------------内部控制---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.85      0.95      0.90       776
                   1       0.69      0.42      0.52       215
        
            accuracy                           0.83       991
           macro avg       0.77      0.68      0.71       991
        weighted avg       0.82      0.83      0.82       991
        
        ---------------------诉讼案件---------------------------------------------
                      precision    recall  f1-score   support
        
                   0       0.99      1.00      1.00       978
                   1       1.00      0.38      0.56        13
        
            accuracy                           0.99       991
           macro avg       1.00      0.69      0.78       991
        weighted avg       0.99      0.99      0.99       991
        
        The F1 Micro Score is: 0.59
        The F1 Macro Score (Unweighted average) is: 0.56
        The F1_Beta Score is:  0.56
        ROC AUC 分红: 0.8447
        ROC AUC 股东大会决议: 0.8035
        ROC AUC 业绩预告: 0.7131
        ROC AUC 持股变动: 0.6792
        ROC AUC 资产重组: 0.6938
        ROC AUC 再融资: 0.6218
        ROC AUC 股权激励: 0.7597
        ROC AUC 关联交易: 0.6720
        ROC AUC 现金管理: 0.6787
        ROC AUC 会计政策变更: 0.6129
        ROC AUC 人员聘请: 0.8229
        ROC AUC 审计保留意见: 0.6754
        ROC AUC 内部控制: 0.6835
        ROC AUC 诉讼案件: 0.6923


[//]: # ()
[//]: # (标签:)

[//]: # (分红公告:业绩快报,业绩预告,单独的利润分配方案预披露报告,年报及董事会公告&#40;分红预案&#41;, 分红派息公告&#40;股权登记日\除权除息日&#41;，薪酬方案， 履行社会责任)

[//]: # (股东大会决议公告)

[//]: # (    )
[//]: # (业绩预告公告:第三季度报告,业绩重大变化公告,业绩快报)

[//]: # (    )
[//]: # (持股变动公告:大股东&#40;持股比例>5%&#41;增持/减持公告)

[//]: # (    )
[//]: # (资产重组公告:出售,收购资产,关联交易,再融资,债券重组,股权转让,吸收合并)

[//]: # (    )
[//]: # (再融资公告:回购，公开配股,公开增发,发行可转债;非公开定向增发;简易程序定增公告（科创版再融资），资产分拆上市)

[//]: # ()
[//]: # (股权激励公告:期望大涨;股票期权,限制性股票;草案未落实;)

[//]: # (    )
[//]: # (关联交易公告:重大事项;)

[//]: # (    )
[//]: # (担保公告:高风险担保,对外担保,)

[//]: # (    )
[//]: # (退市风险公告:退市风险警示*ST p70退市条件摘要:修改股票简称,限制日涨跌幅限制为5%,暂停上市,终止上市，大额赔偿，计提大额资产减值准备，股东权益为负值，资不抵债未坏账准备，仲裁、诉讼情况，)

[//]: # ()
[//]: # (只要有“延期”->退市)

[//]: # ()
[//]: # (交易所交易公开信息公告)

[//]: # ()
[//]: # (现金管理公告)

[//]: # ()
[//]: # (会计政策、会计估计变更公告)

[//]: # ()
[//]: # (人员聘请公告)

[//]: # ()
[//]: # (审计保留意见公告)

[//]: # ()
[//]: # (IPO公告：ipo反馈意见)

[//]: # ()
[//]: # (变更信息公告)

[//]: # ()
[//]: # (内部控制公告： 营业日收入扣除事项，相关会计账目审查)

[//]: # ()
[//]: # (新项目开展公告)

[//]: # ()
[//]: # (承诺)

[//]: # ()
[//]: # (督导)

[//]: # ()
[//]: # (股权激励，回购股份，重大资产重组，挂牌，禁止转让股份，资产冻结，预计业绩变动，主要业务停顿，获得巨大额外收益，新规重大影响，信息修正，人员涉事，高级人员缺岗，信息变更，重大事件泄密，异常交易，重大投资行为（公司在一年内购买、出售重大资产超过公司资产总额百分之三十，或者公司营业用主要资产的抵押、质押、出售或者报废一次超过该资产的百分之三十），)

[//]: # ()
[//]: # ()



[//]: # (vWap_adj有0是因为没有交易量)













# 公司事件:%s 分析报告
 --------------------------------------------------------------------------------
SignalA_up 提供了用于分析上市公司临时公告的模型和函数，包括不同的大语言模型（LLM）、嵌入（embedding）方法、测试模型和辅助工具（如OpenAI API的本地调用）。您可以在[这里](./examples.py)找到使用示例。
## 5000样本数据分类模型结果_二分类
1. 回归混淆矩阵及模型分数
--------------------------------------------- 会计准则变更--------------------------------------------- 
&emsp;              precision    recall  f1-score   support

         0.0       0.91      0.99      0.95       855
         1.0       0.72      0.19      0.30       109

    accuracy                           0.90       964
   macro avg       0.82      0.59      0.63       964
weighted avg       0.89      0.90      0.87       964

